<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="UM Bioinformatics Core" />


<title>Data Priorities and Analysis Setup</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link rel="shortcut icon" href="favicon-16x16.png" />
<!--
Favicon from
https://twemoji.twitter.com/
https://favicon.io/emoji-favicons/repeat-button
-->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="shortcut icon" href="favicon-16x16.png" />
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Reproducible Computing</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="intro.html">Intro</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Day 1
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Overview &amp; Quick-Start</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="Module_overview_and_warmup.html">Overview and Warmup</a>
        </li>
        <li>
          <a href="Module_sneak_peek_great_lakes.html">Sneak Peek of Great Lakes</a>
        </li>
        <li>
          <a href="Module_data_priorities_analysis_setup.html">Data Priorities and Analysis Setup</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">UMich Resources</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="Module_storage_best_practices_UMRCP.html">Raw Data, Compute/Storage Options, &amp; UMRCP</a>
        </li>
        <li>
          <a href="Module_great_lakes_cluster.html">Great Lakes HPC</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Software Management</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="Module_compute_environment_definition.html">Terminology - Compute Environment</a>
        </li>
        <li>
          <a href="Module_software_management_conda.html">Software Management and Conda</a>
        </li>
      </ul>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Day 2
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Module_containers_docker_singularity.html">Containerization with Docker/Singularity</a>
    </li>
    <li>
      <a href="Module_intro_to_workflow_automation.html">Intro to workflow automation</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Day 3
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Module_intro_to_snakemake.html">Intro to Snakemake</a>
    </li>
    <li>
      <a href="Module_advanced_snakemake.html">Advanced Snakemake</a>
    </li>
    <li>
      <a href="Module_transferring_data_globus.html">Transferring data with Globus</a>
    </li>
  </ul>
</li>
<li>
  <a href="wrap_up.html">Wrap up</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Data Priorities and Analysis Setup</h1>
<h4 class="author">UM Bioinformatics Core</h4>

</div>


<style type="text/css">
body{ /* Normal  */
      font-size: 14pt;
  }
pre {
  font-size: 12pt
}
</style>
<p>In this module, we will:</p>
<ul>
<li>suggest priorities and overall treatment of experimental data and
active analysis projects</li>
<li>discuss organization practices and recommendations for anlaysis
files, intermediate outputs, scripts, etc.</li>
<li>utilize some of the access methods mentioned in the previous
module</li>
<li>use the Great Lakes web-based text editor and gain practice
documenting</li>
</ul>
<p><br></p>
<div id="overall-approach" class="section level3">
<h3>Overall Approach</h3>
<p>One simple way to organize our thinking about storage best practices
is to divide the topic into raw data considerations, and considerations
for analysis projects. By separating and focusing on those two aspects,
we can effectively address many of the challenges associated with
each.</p>
<blockquote>
<p>Note: The importance of documentation is universal to all aspects of
reproducible research. In considering best practices both for our raw
data and for our analysis projects, we will emphasize the importance of
documentation!</p>
</blockquote>
<p><br></p>
</div>
<div id="data-priorities" class="section level3">
<h3>Data Priorities</h3>
<p><br></p>
<p>In general, our first priority is to receive our raw data and keep it
in a safe location.<br />
Next, we want to prepare a secondary location where we will conduct our
analysis.<br />
Finally, we’ll copy the subset of data needed for analysis, into our
prepared analysis project location.</p>
<p><img src="images/ModuleDPAR_data_priorities.png" /></p>
<p><br></p>
<p>We also have several things to consider, before acting on each of
these priorities:</p>
<table>
<colgroup>
<col width="9%" />
<col width="30%" />
<col width="59%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Step</th>
<th align="left">Step Name</th>
<th align="left">Preparatory Action</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">Receive Data</td>
<td align="left">Determine Sufficient Storage:</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left">- Total size</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left">- Total # files</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">Prepare Project</td>
<td align="left">Determine if analysis location is appropriate:</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left">- Total size (including intermediates)</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left">- Fast connection to compute hardware</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left">- Separate from raw data</td>
</tr>
<tr class="even">
<td align="left">3</td>
<td align="left">Copy Data</td>
<td align="left">Document critical details:</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left">- Permanent location of the raw data</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left">- Type of data, info from data provider, etc.</td>
</tr>
</tbody>
</table>
<p><br></p>
</div>
<div id="raw-data---overview" class="section level3">
<h3>Raw Data - Overview</h3>
<p>When considering best practices for raw data storage, we can
generally orient ourselves around one task - ensure that the data are
safe.</p>
<p>Safe from:</p>
<ul>
<li>Accidental deletion</li>
<li>Hardware failure</li>
<li>Loss of access</li>
</ul>
<p>With this in mind, we recommend placing your raw experimental data
into a specific designated location which is <strong>solely</strong>
dedicated to storing your raw data.</p>
<p>In the next module we’ll discuss specific options for UMich
researchers, but for now we’ll just speak of the general process. Data
that cannot easily be re-obtained should be treated with great care. By
following the recommendations here, we can achieve this and have peace
of mind that we are preserving our raw data and our capabilities for
reproducible research well into the future.</p>
<p><br></p>
</div>
<div id="analysis-projects---in-depth-look" class="section level3">
<h3>Analysis Projects - In-Depth Look</h3>
<p>We can begin thinking of our next task - handling data and organizing
files and artifacts for our analysis - by starting with the idea of the
data flow described above. One of the first tasks in this area is to set
up a new location for your analysis and make a copy of your raw data
there.</p>
<p>Some considerations:</p>
<ul>
<li>Fast storage, well suited for computation</li>
<li>Project organization that facilitates reproducibility</li>
<li>In-progress analyses, cleanup procedures, and end-to-end repeatable
analyses</li>
</ul>
<p>When we think about fast storage that is well suited for computation,
we mostly contrast that with our long-term archival storage. A storage
option is well suited for computation if it is accessible via
high-throughput connection to sufficiently powerful processing hardware.
The speed of reading and writing from this location can greatly affect
processing times of your analysis, depending on the steps involved.</p>
<p>In terms of project organization, generally we want to have distinct
locations for specific purposes, and preferably organizing things in a
consistent manner for all of our projects.</p>
<p>In a particular project, you may want:</p>
<ul>
<li><code>input_data</code> directory for copy of raw data</li>
<li><code>scripts</code> directory for analysis scripts</li>
<li>Directories for intermediates, log files, and final outputs</li>
<li><code>README.txt</code> for the project</li>
<li><code>docs</code> directory for extensive documentation, supporting
works, etc.</li>
</ul>
<p>A useful idea for our project directory layouts is to think about the
project life cycle and work towards an end-goal of a reproducible
analysis. While at the beginning of an analysis many things may be
flexible, at the end we will want to be able to re-execute the analysis
starting from the raw input data and running all the way until it
produces the final outputs.</p>
<p>Taking time to segregate specific efforts within a project,
documenting our steps as we perform in-progress analyses, performing
cleanups where needed, and similar efforts will aid us as we work
towards that goal.</p>
<p>Think ahead when designing the layout of your projects. If you will
be trying several related analysis approaches using the same input data,
but intend on using results from only one of the evaluated methods, it
may make sense to intentionally subdivide the contents of your project
directory accordingly. If you have several distinct analyses that use
different input datasets, then creating separate project directories for
each of them will likely make the most sense. It’s hard to be totally
prescriptive when making recommendations here, but through our example
we hope to spark the kinds of conversations and the types of thinking
that are required here.</p>
<p><img src="images/Module01_projects_layout.png" /></p>
<p>One last note on handling and organizing analysis projects - use some
form of identification system for projects in your lab or research
group. This simplifies communication and record keeping, in addition to
the organizational benefits.</p>
<p>Some ideas for project identification systems:</p>
<ul>
<li>Codenames</li>
<li>Alphanumeric IDs</li>
<li>Short contextual descriptions</li>
</ul>
<p><br></p>
<!-- LIVE_NOTE: Ask if anyone has any preferences, or what might work best for their group and why -->
</div>
<div id="exercise---organize-intro-project-and-save-results"
class="section level2">
<h2>Exercise - Organize Intro Project and Save Results</h2>
<p>Following along with the instructor, we’ll organize some of the files
that are in our <code>$WORKSHOP_HOME</code> directory.<br />
When we’re ready, we can re-try running the hello_alcott scripts - this
time redirecting our outputs into files.</p>
<p><br></p>
</div>
<div id="exercise---write-a-readme-file" class="section level2">
<h2>Exercise - Write a README File</h2>
<p>Following along with the instructor, we will write the beginnings of
a README for our intro project as it exists so far.</p>
<p><br></p>
<div id="handy-links" class="section level3">
<h3>Handy Links</h3>
<ul>
<li><a href="https://greatlakes.arc-ts.umich.edu">Link to Great Lakes
Dashboard</a></li>
</ul>
<p><br></p>
</div>
</div>
<div id="review" class="section level2">
<h2>Review</h2>
<ul>
<li>It can be helpful to think about our raw data and our analysis data
separately.</li>
<li>Typically, the first priority is ensuring that raw data is stored in
a separate, long-term storage location</li>
<li>Organizing our projects in a consistent manner provides many
benefits - pre-arranging project folders can help!</li>
<li>Documentation is critical - record information about receipt of raw
data and about your ongoing projects</li>
</ul>
<p><br> <br></p>
<table style="width:100%;">
<colgroup>
<col width="28%" />
<col width="42%" />
<col width="28%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"><a href="Module_overview_and_warmup.html">Previous
lesson</a></th>
<th align="center"><a href="#top">Top of this lesson</a></th>
<th align="right"><a
href="Module_storage_best_practices_UMRCP.html">Next lesson</a></th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
